<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord IA</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="chatbot.css">
    <script src="script.js" defer></script>
    <script src="logout.js" defer></script>
    <script type="module" src="chatbot.js" defer></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body>
    
    <header>
        <h2>Tableau de Bord IA</h2>
        <button id="dark-mode-toggle">üåô Mode Sombre</button>
        <div class="user-menu">
            <span id="username">Utilisateur</span>
            <div class="dropdown">
                <button class="menu-btn">‚ò∞</button>
                <div class="dropdown-content">
                    <a href="ticket.html">üé´ Cr√©er un Ticket</a>
                    <a href="#" id="favorites-menu">‚≠ê Favoris</a>
                    <ul id="favorites-dropdown"></ul>
                    <button id="logout">üè† D√©connexion</button>
                </div>                
            </div>            
        </div>
    </header>   
    

    <div class="dashboard-container">
        <label for="search-question">Rechercher une question ou un mot-cl√© :</label>
    
        <!-- Zone de recherche : mots-cl√©s s√©lectionnables et saisie de texte -->
        <input type="text" id="search-question" placeholder="Tapez votre recherche...">
        <div id="keywords-container"></div>
    
        <!-- S√©lection d'une question via le menu d√©roulant -->
        <select id="question-select">
            <option value="">-- S√©lectionner une question --</option>
            <optgroup label="G√©n√©ral">
                <option value="Tableau_Bord_General">Quels sont les KPI les plus critiques en ce moment ?</option>
                <option value="Tableau_Bord_General">Quelle est l‚Äô√©volution globale des r√©clamations impay√©s et paiements ?</option>
                <option value="Tableau_Bord_General">Quels sont les secteurs ou agences les plus impact√©s par les anomalies ?</option>
                <option value="Tableau_Bord_General">Quels indicateurs n√©cessitent une action imm√©diate ?</option>
                <option value="Tableau_Bord_General">Quelle est la performance globale des services sur les 6 derniers mois ?</option>
            </optgroup>
            <optgroup label="R√©clamations">
                <option value="KPI_01">Dur√©e moyenne de traitement des r√©clamations</option>
                <option value="KPI_01">Comment √©voluent les r√©clamations par mois ?</option>
                <option value="KPI_01">Quels sont les tendances mensuelles des r√©clamations et leur dur√©e moyenne par ann√©e ?</option>
                <option value="KPI_02">Quelles r√©clamations sont encore en attente ?</option>
                <option value="KPI_02">Quels types de r√©clamations en attente sont les plus fr√©quents ?</option>
                <option value="KPI_02">Quel est le taux de r√©clamations en attente ces 15 derniers jours ?</option>
            </optgroup>
            <optgroup label="Affaires">
                <option value="KPI_03">Comment √©voluent les affaires ouvertes et cl√¥tur√©es ?</option>
                <option value="KPI_03">Quel pourcentage d'affaires est cl√¥tur√© en moins de X jours ?</option>
                <option value="KPI_03">Quelle est la r√©partition des affaires par agence ?</option>
            </optgroup>
            <optgroup label="Factures">
                <option value="KPI_04">Quel est le taux d‚Äôimpay√©s actuel ?</option>
                <option value="KPI_04">Quels sont les montants impay√©s par agence ?</option>
                <option value="KPI_04">Que pr√©voit-on d'impay√©s pour les 3 prochains mois ?</option>                
                <option value="KPI_04">Comment √©voluent les impay√©s chaque mois ?</option>
                <option value="KPI_05">Quel est le d√©lai moyen de paiement des factures ?</option>
                <option value="KPI_05">Comment sont r√©partis les paiements en fonction du d√©lai ?</option>
                <option value="KPI_05">Quelle est l‚Äô√©volution du d√©lai moyen de paiement ?</option>
                <option value="KPI_05">Quelle est la date de paiement enregistr√© et cl√¥tur√© ?</option>                
                <option value="KPI_09">Quel est le montant total factur√© et r√©gl√© ?</option>
                <option value="KPI_09">Quels sont les statuts des factures en cours ?</option>
                <option value="KPI_09">Quels sont les d√©tails des r√®glements par titre et r√¥le ?</option>
            </optgroup>
            <optgroup label="Paiements">
                <option value="KPI_06">Quel est le pourcentage de pr√©l√®vements rejet√©s ?</option>
                <option value="KPI_06">Quels sont les modes de paiement les plus rejet√©s ?</option>
                <option value="KPI_06">Comment √©voluent les rejets de pr√©l√®vements par mois ?</option>
                <option value="KPI_06">Comment √©voluent la r√©partition des paiements en fonction du d√©lai class√© par groupe de facture ?</option>            
            </optgroup>
            <optgroup label="Compteurs">
                <option value="KPI_07">Taux de compteurs non relev√©s depuis 1 an ?</option>
                <option value="KPI_07">Quels secteurs ont le plus de compteurs sans rel√®ve ?</option>
                <option value="KPI_07">O√π sont situ√©s les compteurs sans rel√®ve ?</option>
                <option value="KPI_07">Rechercher un compteur ?</option>
            </optgroup>
            <optgroup label="Courriers">
                <option value="KPI_08">Quel pourcentage de courriers est revenu en PND ?</option>
                <option value="KPI_08">Quelles agences ont le plus de courriers revenus en PND ?</option>
                <option value="KPI_08">Comment √©volue le nombre de PND chaque mois ?</option>
                <option value="KPI_08">Quel est le d√©lai moyen de retour des courriers en PND ?</option>                
            </optgroup>            
        </select>
    
    <!-- Boutons d'interaction -->
    <button id="favorite-btn">‚≠ê Ajouter aux Favoris</button>

    <button id="refresh-btn">üîÑ Rafra√Æchir</button>

    <!-- Affichage des recommandations -->
    <h3>Page recommand√©e :</h3>
    <div id="page-recommandee">Effectuez une recherche.</div>

    <iframe id="powerbi-frame" width="100%" height="700px" src="" frameborder="0" allowFullScreen="true"></iframe>

    <!-- Bouton d'ouverture du chatbot -->
    <button id="chatbot-toggle" class="chatbot-toggle">üí¨</button>

        <!-- Chatbot -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <div class="chatbot-container">
        <div class="chatbot-header">
            <i class="fa-solid fa-robot"></i> Chatbot
            <button id="chatbot-close" class="chatbot-close"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div id="chatbot-messages" class="chatbot-messages">
            <!-- Exemple message utilisateur -->
            <div class="message message-user">
                <img src="https://cdn-icons-png.flaticon.com/512/1077/1077114.png" class="avatar" alt="Utilisateur">
                <div class="bubble">Votre message utilisateur ici</div>
            </div>

            <!-- Exemple message chatbot -->
            <div class="message message-chatbot">
                <img src="https://cdn-icons-png.flaticon.com/512/4712/4712027.png" class="avatar" alt="Chatbot">
                <div class="bubble">R√©ponse du chatbot ici</div>
            </div>
        </div>
        <div id="chatbot-suggestions" class="chatbot-suggestions"></div>
        <div class="chatbot-input-container">
            <input type="text" id="chatbot-input" placeholder="Posez votre question...">
            <button id="chatbot-send"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>



</div>
    